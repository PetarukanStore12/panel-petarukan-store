<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Katalog Produk-01</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #F4F4F4;
  margin: 0;
  padding: 0;
}

/* HEADER */
.header {
  background: white;
  padding: 10px;
  border-bottom: 1px solid #ddd;
}
.brand {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}
.logo {
  width: 48px;
  height: 48px;
  border-radius: 5px;
  overflow: hidden;
}
.logo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.store-info {
  display: flex;
  flex-direction: column;
}
.store-name {
  font-size: 20px;
  font-weight: bold;
}
.store-sub {
  font-size: 12px;
  color: #555;
}
.search-box {
  width: 90%;
  padding: 8px;
  border-radius: 8px;
  border: 1px solid #ccc;
}

/* GRID PRODUK */
.produk-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  padding: 12px;
}
.card {
  background: white;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  position: relative;
}
.card img {
  width: 100%;
  height: 140px;
  object-fit: cover;
}
.stok-label {
  position: absolute;
  top: 8px;
  left: 8px;
  padding: 4px 8px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: bold;
  color: white;
}
.stok-habis { background: #e53935; }
.stok-ready { background: #43a047; }
.card-content {
  padding: 8px;
}
.card-content h3 {
  font-size: 14px;
  margin: 0;
}
.card-content p {
  font-size: 11px;
  color: #666;
  margin: 4px 0;
}
.card-buttons {
  display: flex;
  justify-content: space-between;
  padding: 8px;
  gap: 5px;
}
.btn {
  flex: 1;
  padding: 6px 0;
  border-radius: 6px;
  font-size: 12px;
  font-weight: bold;
  border: none;
  cursor: pointer;
}
.btn-detail { background: #1508DA; color: #F7F7F7; }
.btn-order { background: #d32f2f; color: white; }

/* MODAL */
.modal {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
  padding: 20px;
}
.modal-content {
  background: white;
  border-radius: 10px;
  padding: 15px;
  max-width: 280px; /* lebih kecil biar rapi di HP */
  width: 100%;
  position: relative;
  text-align: center;
}
.modal-content img {
  width: 140px; /* kecilin gambar */
  height: 140px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 10px;
}

.close-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  background: #ccc;
  border: none;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  cursor: pointer;
}
.btn:disabled {
  background: #ccc !important;
  color: #777 !important;
  cursor: not-allowed;
}
.search-box:focus {
  outline: none;
  border-color: #1565c0; /* warna biru misalnya */
  box-shadow: none; /* hilangkan glow orange */
}
.no-result {
  grid-column: span 2;
  text-align: center;
  font-size: 14px;
  color: #777;
  padding: 15px 0;
}
.kategori-title {
  width: 70%;
  grid-column: span 2;
  text-align: center;
  background: #0035FF;
  color: #FFFFFF;
  font-weight: bold;
  padding: 4px 10px;
  border-radius: 20px;
  margin: 15px auto 10px;
  /* ini bikin dia center */
  font-size: 13px;
}
</style>
</head>
<body>

<div class="header">
  <div class="brand">
    <div class="logo">
      <img src="Logo.png" alt="Logo">
    </div>
    <div class="store-info">
      <div class="store-name">PETARUKAN STORE</div>
      <div class="store-sub">Jl.Raya Petarukan Pemalang</div>
    </div>
  </div>
  <input type="text" id="searchBox" class="search-box" placeholder="Cari produk...">
</div>

<div class="produk-grid" id="produkGrid"></div>

<!-- MODAL -->
<div class="modal" id="detailModal">
  <div class="modal-content">
    <button class="close-btn" onclick="tutupModal()">×</button>
    <img id="modalImg" src="" alt="">
    <h3 id="modalNama"></h3>
    <p id="modalDeskripsi"></p>
    <p><strong id="modalHarga"></strong></p>
  </div>
</div>

<script>
const produkList = [
  { nama: "Akrab L Basic", kategori: "PAKET AKRAB L", deskripsi: "Paket ini bisa buat XL & Axis Cek Area : • Area 1 = 15 GB • Area 2 = 17 GB • Area 3 = 22 GB • Area 4 = 32 GB", harga: 42000, stok: 5, gambar: "https://api3.duniadigitalsb.my.id/sewa/file.php?u=PetarukanStore&f=Produk_Kuota_Akrab_-_By_Gpc_Store%2FProduk1.png" },
  { nama: "Akrab L Biasa", kategori: "PAKET AKRAB L", deskripsi: "Paket ini bisa buat XL & Axis || Cek Area : Area 1 = 38 - 40 GB | Area 2 = 40 - 42 GB | Area 3 = 45 - 47 GB | Area 4 = 55 - 57 GB", harga: 54000, stok: 5, gambar: "https://api3.duniadigitalsb.my.id/sewa/file.php?u=PetarukanStore&f=Produk2.png" },
  { nama: "Akrab Mega L", kategori: "PAKET AKRAB L", deskripsi: "Paket ini bisa buat XL & Axis || Cek Area : Area 1 = 63 - 65 GB | Area 2 = 65 - 67 GB | Area 3 = 70 - 72 GB | Area 4 = 80 - 82 GB", harga: 75000, stok: 5, gambar: "https://api3.duniadigitalsb.my.id/sewa/file.php?u=PetarukanStore&f=Produk3.png" },
  { nama: "Akrab Super L", kategori: "PAKET AKRAB L", deskripsi: "Paket ini bisa buat XL & Axis || Cek Area : Area 1 = 88 - 90 GB | Area 2 = 90 - 92 GB | Area 3 = 95 - 97 GB | Area 4 = 105 - 107 GB", harga: 87000, stok: 1, gambar: "https://api3.duniadigitalsb.my.id/sewa/file.php?u=PetarukanStore&f=Produk4.png" },
  { nama: "XXL MINI", kategori: "PAKET AKRAB XXL", deskripsi: "Paket ini bisa untuk XL & AXIS || Cek Area : Area 1 = 27 GB || Area 2 = 32 GB || Area 3 = 45 GB || Area 4 = 85 GB|| Masa Aktif 30 Hari", harga: 67000, stok: 1, gambar: "https://api3.duniadigitalsb.my.id/sewa/file.php?u=PetarukanStore&f=Produk5.png" },
  { nama: "XXL LITE", kategori: "PAKET AKRAB XXL", deskripsi: "Paket ini bisa untuk XL & AXIS || Cek Area : Area 1 = 47,5 GB || Area 2 = 52 GB || Area 3 = 60,5 GB || Area 4 = 105 GB|| Masa Aktif 30 Hari", harga: 76000, stok: 1, gambar: "https://api3.duniadigitalsb.my.id/sewa/file.php?u=PetarukanStore&f=Produk6.png" },
  { nama: "XXL JUMBO REWARD", kategori: "PAKET AKRAB XXL", deskripsi: "Paket ini bisa untuk XL & AXIS || Cek Area : Area 1 = 65,5 - 67,5 GB || Area 2 = 70 - 72 GB || Area 3 = 83 - 85 GB || Area 4 = 123 - 125 GB|| Masa Aktif 30 Hari", harga: 83000, stok: 1, gambar: "https://api3.duniadigitalsb.my.id/sewa/file.php?u=PetarukanStore&f=Produk7.png" },
  { nama: "XXL JUMBO SUPER", kategori: "PAKET AKRAB XXL", deskripsi: "Paket ini bisa untuk XL & AXIS || Cek Area : Area 1 = 85,5 - 87,5 GB || Area 2 = 90 - 92 GB || Area 3 = 103 - 105 GB || Area 4 = 143 - 145 GB|| Masa Aktif 30 Hari", harga: 88000, stok: 1, gambar: "https://api3.duniadigitalsb.my.id/sewa/file.php?u=PetarukanStore&f=Produk8.png" },
  { nama: "Bekasan L", kategori: "PAKET BEKASAN XL AKRAB", deskripsi: "19 Hari : Rp 20.000 || 15 Hari : Rp 17.000 || 16 Hari : Rp 18.000", harga: 0, stok: 0, gambar: "https://images.unsplash.com/photo-1519744792095-2f2205e87b6f?w=400&q=80" },
  { nama: "Bekasan XL", kategori: "PAKET BEKASAN XL AKRAB", deskripsi: "Cek Area : Area 1 = 1,5 GB || Area 2 = 4,5 GB || Area 3 = 15 GB || Area 4 = 39 GB", harga: 250000, stok: 0, gambar: "https://images.unsplash.com/photo-1519744792095-2f2205e87b6f?w=400&q=80" },
  { nama: "Bekasan XXL", kategori: "PAKET BEKASAN XL AKRAB", deskripsi: "Cek Area : Area 1 = 7,5 GB || Area 2 = 12 GB || Area 3 = 25 GB || Area 4 = 65 GB", harga: 250000, stok: 0, gambar: "https://images.unsplash.com/photo-1519744792095-2f2205e87b6f?w=400&q=80" },
];

const produkGrid = document.getElementById("produkGrid");
const searchBox = document.getElementById("searchBox");
const detailModal = document.getElementById("detailModal");
const modalImg = document.getElementById("modalImg");
const modalNama = document.getElementById("modalNama");
const modalDeskripsi = document.getElementById("modalDeskripsi");
const modalHarga = document.getElementById("modalHarga");

function renderProduk(list) {
  produkGrid.innerHTML = "";

  if (list.length === 0) {
    produkGrid.innerHTML = `<div class="no-result">Produk tidak ditemukan</div>`;
    return;
  }

  // Ambil daftar kategori unik
  const kategoriList = [...new Set(list.map(p => p.kategori))];

  kategoriList.forEach(kat => {
    // Tambah judul kategori
    const title = document.createElement("div");
    title.className = "kategori-title";
    title.textContent = `PRODUK ${kat.toUpperCase()}`;
    produkGrid.appendChild(title);

    // Filter produk di kategori ini
    const produkPerKategori = list.filter(p => p.kategori === kat);

    produkPerKategori.forEach(p => {
      const card = document.createElement("div");
      card.classList.add("card");
      card.innerHTML = `
        <span class="stok-label ${p.stok > 0 ? 'stok-ready' : 'stok-habis'}">
          ${p.stok > 0 ? 'STATUS: READY' : 'STATUS: HABIS'}
        </span>
        <img src="${p.gambar}" alt="${p.nama}">
        <div class="card-content">
          <h3>${p.nama}</h3>
          <p>${p.deskripsi}</p>
        </div>
        <div class="card-buttons">
          <button class="btn btn-detail" ${p.stok === 0 ? 'disabled' : ''}>DETAIL</button>
          <button class="btn btn-order" ${p.stok === 0 ? 'disabled' : ''}>KLIK ORDER</button>
        </div>
      `;

      if (p.stok > 0) {
        card.querySelector(".btn-detail").addEventListener("click", () => bukaModal(p));
        card.querySelector(".btn-order").addEventListener("click", () => kirimWA(p));
      }

      produkGrid.appendChild(card);
    });
  });
}

function bukaModal(p) {
  modalImg.src = p.gambar;
  modalNama.textContent = p.nama;
  modalDeskripsi.textContent = p.deskripsi;
  modalHarga.textContent = `Rp ${p.harga.toLocaleString('id-ID')}`;
  detailModal.style.display = "flex";
}

function tutupModal() {
  detailModal.style.display = "none";
}

function kirimWA(p) {
  const nomorWA = "6285643838017";
  const pesan = `Halo, saya tertarik dengan produk:\n\n${p.nama}\n${p.deskripsi}\nHarga: Rp ${p.harga.toLocaleString('id-ID')}\nStok: ${p.stok > 0 ? p.stok : 'Habis'}`;
  window.open(`https://wa.me/${nomorWA}?text=${encodeURIComponent(pesan)}`, "_blank");
}

searchBox.addEventListener("input", () => {
  const keyword = searchBox.value.toLowerCase();
  const filter = produkList.filter(p =>
    p.nama.toLowerCase().includes(keyword) ||
    p.deskripsi.toLowerCase().includes(keyword) ||
    p.kategori.toLowerCase().includes(keyword)
  );
  renderProduk(filter);
});

renderProduk(produkList);

detailModal.addEventListener("click", (e) => {
  if (e.target === detailModal) {
    tutupModal();
  }
});
</script>


</body>
</html>
